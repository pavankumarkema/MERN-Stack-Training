<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registration Page</title>

<style>
*{
    box-sizing:border-box;
    font-family:Arial, sans-serif;
}

body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#667eea,#764ba2);
}

.form-card{
    width:460px;
    background:#fff;
    padding:30px;
    border-radius:16px;
    box-shadow:0 20px 40px rgba(0,0,0,0.3);
}

h2{
    text-align:center;
    margin-bottom:20px;
}

label{
    font-size:14px;
    font-weight:bold;
    margin-top:12px;
    display:block;
}

input,select{
    width:100%;
    padding:12px;
    margin-top:6px;
    border-radius:10px;
    border:1px solid #ccc;
}

input:focus,select:focus{
    outline:none;
    border-color:#667eea;
}

.row{
    display:flex;
    gap:12px;
}

.gender{
    display:flex;
    gap:20px;
    margin-top:8px;
}

small{
    font-size:12px;
    color:#e63946;
}

.error{
    border:2px solid #e63946;
}

.success{
    border:2px solid #2ecc71;
}

/* Password strength */
.strength{
    width:100%;
    height:7px;
    background:#ddd;
    border-radius:6px;
    margin-top:6px;
}

.strength span{
    display:block;
    height:100%;
    width:0%;
    border-radius:6px;
    transition:0.3s;
}

button{
    width:100%;
    padding:14px;
    margin-top:22px;
    border:none;
    border-radius:12px;
    background:#667eea;
    color:white;
    font-size:16px;
    cursor:pointer;
}

button:hover{
    background:#5a67d8;
}
</style>
</head>
<body>

<div class="form-card">
<h2>Registration Form</h2>

<form id="regForm">

<label>Full Name</label>
<input type="text" id="name" placeholder="Enter full name">
<small id="nameError"></small>

<label>Email</label>
<input type="text" id="email" placeholder="Enter email">
<small id="emailError"></small>

<div class="row">
    <div>
        <label>Mobile</label>
        <input type="text" id="phone" placeholder="10 digit number">
        <small id="phoneError"></small>
    </div>
    <div>
        <label>DOB</label>
        <input type="date" id="dob">
        <small id="dobError"></small>
    </div>
</div>

<label>Gender</label>
<div class="gender">
    <label><input type="radio" name="gender"> Male</label>
    <label><input type="radio" name="gender"> Female</label>
    <label><input type="radio" name="gender"> Prefer not to say</label>
</div>
<small id="genderError"></small>

<label>Address</label>
<input type="text" id="address" placeholder="Enter address">
<small id="addressError"></small>

<div class="row">
    <div>
        <label>Country</label>
        <select id="country">
            <option value="">Select country</option>
            <option>India</option>
            <option>USA</option>
            <option>UK</option>
        </select>
        <small id="countryError"></small>
    </div>
    <div>
        <label>Postal Code</label>
        <input type="text" id="postal" placeholder="Postal code">
        <small id="postalError"></small>
    </div>
</div>

<label>Password</label>
<input type="password" id="password">
<div class="strength"><span id="strengthBar"></span></div>
<small id="passwordError"></small>

<label>Confirm Password</label>
<input type="password" id="confirmPassword">
<small id="confirmError"></small>

<button type="submit">Register</button>

</form>
</div>

<script>
/* REGEX */
const nameRegex=/^[A-Za-z ]{3,}$/;
const emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
const phoneRegex=/^[0-9]{10}$/;
const postalRegex=/^[0-9]{4,10}$/;
const passwordRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;

/* PASSWORD STRENGTH */
password.addEventListener("input",()=>{
    let strength=0;
    if(/[a-z]/.test(password.value)) strength++;
    if(/[A-Z]/.test(password.value)) strength++;
    if(/\d/.test(password.value)) strength++;
    if(/[@$!%*?&]/.test(password.value)) strength++;
    if(password.value.length>=8) strength++;

    strengthBar.style.width=strength*20+"%";
    strengthBar.style.background=
        strength<=2?"red":strength<=4?"orange":"green";
});

/* FORM SUBMIT */
regForm.addEventListener("submit",function(e){
    e.preventDefault();
    let valid=true;

    if(!nameRegex.test(name.value)){
        nameError.textContent="Minimum 3 letters required";
        valid=false;
    }else nameError.textContent="";

    if(!emailRegex.test(email.value)){
        emailError.textContent="Invalid email format";
        valid=false;
    }else emailError.textContent="";

    if(!phoneRegex.test(phone.value)){
        phoneError.textContent="Enter 10 digit number";
        valid=false;
    }else phoneError.textContent="";

    if(!dob.value){
        dobError.textContent="Select DOB";
        valid=false;
    }else dobError.textContent="";

    if(!document.querySelector('input[name="gender"]:checked')){
        genderError.textContent="Select gender";
        valid=false;
    }else genderError.textContent="";

    if(address.value.length<5){
        addressError.textContent="Enter valid address";
        valid=false;
    }else addressError.textContent="";

    if(!country.value){
        countryError.textContent="Select country";
        valid=false;
    }else countryError.textContent="";

    if(!postalRegex.test(postal.value)){
        postalError.textContent="Invalid postal code";
        valid=false;
    }else postalError.textContent="";

    if(!passwordRegex.test(password.value)){
        passwordError.textContent="Strong password required";
        valid=false;
    }else passwordError.textContent="";

    if(password.value!==confirmPassword.value){
        confirmError.textContent="Passwords do not match";
        valid=false;
    }else confirmError.textContent="";

    if(valid){
        alert("Registration Successful âœ…");
        regForm.reset();
        strengthBar.style.width="0%";
    }
});
</script>

</body>
</html>
